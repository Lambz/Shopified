<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://kit.fontawesome.com/99eb92985b.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="style.css" />
	<title>Document</title>
</head>

<body>
	<div class="container">
		<div class="forms-container">
			<div class="signin-signup">
				<form action="#" class="sign-in-form">
					<h2 class="title">Sign in</h2>
					<div class="input-field">
						<i class="fas fa-user"></i>
						<input id="loginEmailInput" type="email" placeholder="Email" />
					</div>
					<div class="input-field">
						<i class="fas fa-lock"></i>
						<input id="loginPasswordInput" type="password" placeholder="Password" />
					</div>
					<button onclick="login()" class="btn">Login</button>
					<!-- <p class="social-text">Or Sign in with social platforms</p>
              <div class="social-media">
                <a href="#" class="social-icon">
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a href="#" class="social-icon">
                  <i class="fab fa-twitter"></i>
                </a>
                <a href="#" class="social-icon">
                  <i class="fab fa-google"></i>
                </a>
                <a href="#" class="social-icon">
                  <i class="fab fa-linkedin-in"></i>
                </a>
              </div> -->
				</form>
				<form action="#" class="sign-up-form">
					<h2 class="title">Sign up</h2>
					<!-- <div class="input-field">
                <i class="fas fa-user"></i>
                <input type="text" placeholder="Username" />
              </div> -->
					<div class="input-field">
						<i class="fas fa-user"></i>
						<input id="signUpNameInput" type="text" placeholder="Name" />
					</div>
					<div class="input-field">
						<i class="fas fa-envelope"></i>
						<input id="signUpEmailInput" type="email" placeholder="Email" />
					</div>
					<div class="input-field">
						<i class="fas fa-envelope"></i>
						<textarea id="signUpAddressInput" type="text" placeholder="Address"></textarea>
					</div>
					<div class="input-field">
						<i class="fas fa-lock"></i>
						<input id="signUpPasswordInput" type="password" placeholder="Password" />
					</div>
					<div class="input-field">
						<i class="fas fa-lock"></i>
						<input id="signUpRetypePasswordInput" type="password" placeholder="Re-type Password" />
					</div>
					<button class="btn">Sign up</button>
					<!-- <p class="social-text">Or Sign up with social platforms</p>
              <div class="social-media">
                <a href="#" class="social-icon">
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a href="#" class="social-icon">
                  <i class="fab fa-twitter"></i>
                </a>
                <a href="#" class="social-icon">
                  <i class="fab fa-google"></i>
                </a>
                <a href="#" class="social-icon">
                  <i class="fab fa-linkedin-in"></i>
                </a>
              </div> -->
				</form>
			</div>
		</div>

		<div class="panels-container">
			<div class="panel left-panel">
				<div class="content">
					<h3>New here ?</h3>
					<p>
						Do not have an account?Sign up now!
					</p>
					<button class="btn transparent" id="sign-up-btn">
						Sign up
					</button>
				</div>
				<img src="imgs/addToCart.svg" class="image" alt="" />
			</div>
			<div class="panel right-panel">
				<div class="content">
					<h3>One of us ?</h3>
					<p>
						If you already have an account. Sign in to your account.
					</p>
					<button class="btn transparent" id="sign-in-btn">
						Sign in
					</button>
				</div>
				<img src="imgs/windowShopping.svg" class="image" alt="" />
			</div>
		</div>
	</div>

	<!-- <script src="scripts/log_in.js"></script> -->
	<script src="scripts/Utilties.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.8/firebase-storage.js"></script>
	<!-- <script src="scripts/main.js"></script> -->
	<script src="scripts/models.js"></script>
	<script src="scripts/firebaseHandlers.js"></script>
	<script src="scripts/interface.js"></script>
	<script>
		const sign_in_btn = document.querySelector("#sign-in-btn");
		const sign_up_btn = document.querySelector("#sign-up-btn");
		const container = document.querySelector(".container");
		const signUpEmailInput = document.getElementById("signUpEmailInput");
		const signUpPasswordInput = document.getElementById("signUpPasswordInput");
		const signUpRetypePasswordInput = document.getElementById("signUpRetypePasswordInput");
		const loginEmailInput = document.getElementById("loginEmailInput");
		const loginPasswordInput = document.getElementById("loginPasswordInput");
		const signUpAddressInput = document.getElementById("signUpAddressInput");
		const signUpNameInput = document.getElementById("signUpNameInput");

		sign_up_btn.addEventListener("click", () => {
			container.classList.add("sign-up-mode");
		});

		sign_in_btn.addEventListener("click", () => {
			container.classList.remove("sign-up-mode");
		});

		function login() {
			let email = loginEmailInput.value;
			let password = loginPasswordInput.value;
			let noProb = true;
			if(email == "")
			{
				loginEmailInput.style.border = "1px solid red";
				noProb = false;
			}
			if(password == "")
			{
				loginPasswordInput.style.border = "1px solid red";
				noProb = false;
			}
			if(noProb)
			{
				sha512(password).then((hash) => {
					signIn(email,hash,true,result);
				});
			}
		}

		function result(code)
		{

		}

		function signUp()
		{
			let name = signUpNameInput.value;
			let email = signUpEmailInput.value;
			let password = signUpPasswordInput.value;
			let retypePassword = signUpRetypePasswordInput.value;
			let address = signUpAddressInput.value;
			let no_prob = true;
			if(name == "")
			{
				signUpNameInput.style.border = "1px solid red";
				noProb = false;
			}
			if(email == "")
			{
				signUpEmailInput.style.border = "1px solid red";
				noProb = false;
			}
			if(password == "")
			{
				signUpPasswordInput.style.border = "1px solid red";
				noProb = false;
			}
			if(retypePassword == "")
			{
				signUpRetypePasswordInput.style.border = "1px solid red";
				noProb = false;
			}
			if(address == "")
			{
				signUpAddressInput.style.border = "1px solid red";
				noProb = false;
			}
			if(password != retypePassword)
			{
				signUpPasswordInput.style.border = "1px solid red";
				signUpRetypePasswordInput.style.border = "1px solid red";
				noProb = false;
			}
			if(no_prob)
			{
				sha512(password).then((hash) => {
					let user = new User(name,address,email,hash);
					signUp(user,true,result);
				});
			}
		}
	</script>

</body>

</html>